<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Sidebar -->
     <div class="layout-container">
        <aside>
        <div class="logo">
            <h2>‚úÖ TaskMaster</h2>
        </div>
        <p class="quote">Start Your Day & Be Productive ‚úåÔ∏è</p>
        <nav class="navbar">
            <div class="menu-sign">&#9776;</div>
            <div class="menu-list">
            <ul class="nav-list">
            <li><a href="home.html">üè† Home</a></li>
            <li><a href="profile.html">üë§ Profile</a></li>
            <li><a href="index.html">üìã Tasks</a></li>
            <li><a href="settings.html">‚öôÔ∏è Settings</a></li>
            </ul>
            <button class="mode-switch">Dark Modeüåô</button>
        </div>
        
        </nav>
     </aside>
     
     <div class="main-content">
        <header>
    <!-- Welcome Text -->
        <div class="profile-header">
            <h3>Create your profile</h3>
        </div>
    </header>
    <main>
        <div class="out-box">
            <img src="profile.jpg" alt="login">
            <form id="loginForm" class="login-container">
        <img id="preview" src="default.avif" alt="Default" />
        <input type="file" id="profilePic" accept="image/*" required />
         <section id="name">
        <div class="user-name">
            <span>First Name</span>
            <input type="text"  id="fname" required>
        </div>
        <div class="user-name">
            <span>Last Name</span>
            <input type="text" id="lname" required>
        </div>
         </section>
         <section id="contact">
            <span>Contact</span>
            <input type="text" id="contactInput" required>
         </section>
         <section id="bio">
            <span>Profile Bio</span>
            <textarea name="bio" id="user-bio" rows="3" cols="3" required></textarea>
         </section>
         <button type="submit" class="log-in">Log-in</button>
        </form>
        </div>
        <footer>
        &copy; 2025 TaskMaster. All rights reserved.
        </footer>
        </div>
        
     </main>
     </div>
<script src="script.js"></script>
</body>
<script>
    // ‚úÖ Profile page login logic
if (window.location.pathname.includes("profile.html")) {
  const form = document.getElementById("loginForm");
  const profilePic = document.getElementById("profilePic");
  const preview = document.getElementById("preview");

  // Redirect if already logged in
  const existingUser = JSON.parse(localStorage.getItem("taskUser"));
  if (existingUser?.loggedIn) {
    window.location.href = "index.html";
  }

  // Show image preview
  profilePic.addEventListener("change", function (e) {
    const file = e.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function (event) {
        preview.src = event.target.result;
      };
      reader.readAsDataURL(file);
    }
  });

  // Handle login submit
  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const userData = {
      fname: document.getElementById("fname").value.trim(),
      lname: document.getElementById("lname").value.trim(),
      contact: document.getElementById("contactInput").value.trim(),
      bio: document.getElementById("user-bio").value.trim(),
      profileImage: preview.src,
      loggedIn: true,
    };

    localStorage.setItem("taskUser", JSON.stringify(userData));
    window.location.href = "index.html";
  });
}


</script>
</html>