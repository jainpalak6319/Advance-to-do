<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


</head>
<body>
    <!-- Sidebar -->
     <div class="layout-container">
        <aside>
        <div class="logo">
            <h2>‚úÖ TaskMaster</h2>
        </div>
        <p class="quote">Start Your Day & Be Productive ‚úåÔ∏è</p>
        <nav class="navbar">
            <div class="menu-sign">&#9776;</div>
            <div class="menu-list">
            <div class="user-info">
           <img id="profileImage" src="default.avif" alt="Profile Picture" />
            <h3 id="displayName"></h3>
            <p id="userBio"></p>
            <button onclick="logout()">Logout</button>
            </div>
            <ul class="nav-list">
            <li><a href="home.html">üè† Home</a></li>
            <li><a href="profile.html">üë§ Profile</a></li>
            <li><a href="index.html">üìã Tasks</a></li>
            <li><a href="settings.html">‚öôÔ∏è Settings</a></li>
            </ul>
            <button class="mode-switch">Dark Modeüåô</button>
        </div>
        
        </nav>
     </aside>
     
     <div class="main-content">
        <header>
    <!-- Welcome Text -->
        <div class="welcome">
            <h3>Welcome to Dashboard</h3>
            <p>"Let's Organize Our Work"</p>
        </div>
    </header>
    <!-- Cards -->
    <main>
        <div class="containers">
        <section id="Total">
            <div class="card" id="first">
                <h4>Total Tasks</h4>
                <div class="value" id="total-count">0</div>
            </div>
        </section>
        <section id="Completed">
            <div class="card" id="second">
                <h4>Completed Tasks</h4>
                <div class="value" id="Completed-count">0</div>
            </div>
        </section>
        <section id="Pending" >
            <div class="card" id="third">
                <h4>Pending Tasks</h4>
                <div class="value" id="Pending-count">0</div>
            </div>
        </section>
        </div>
        <section class="chart-section">
       <h3>Task Status Overview</h3>
       <canvas id="taskChart" width="300" height="300"></canvas>
       </section>

        <!-- Task-Input -->
        <div class="list-area">
        <section class="input">
        <input type="text" id="input-text" placeholder="Enter Your Task....">
        <button id="add-task" onclick="addTask()">Add Task</button>
        </section>
        <section id="list-task">
        <div id="filters">
     <button onclick="filterTasks('all')">All</button>
     <button onclick="filterTasks('completed')">Completed</button>
     <button onclick="filterTasks('pending')">Pending</button>
      </div>

        <ul id="list"></ul>
        </section>
        <footer>
        &copy; 2025 TaskMaster. All rights reserved.
        </footer>
        </div>
        
     </main>
     </div>
     </div>
<script src="script.js"></script>
</body>
<script>
    // ‚úÖ Block index.html access if not logged in
if (window.location.pathname.includes("index.html")) {
  const user = JSON.parse(localStorage.getItem("taskUser"));
  if (!user || !user.loggedIn) {
    window.location.replace("profile.html");
  }
}
if (window.location.pathname.includes("index.html")) {
  const user = JSON.parse(localStorage.getItem("taskUser"));

  if (!user || !user.loggedIn) {
    window.location.replace("profile.html");
  } else {
    // SHOW INFO ON INDEX PAGE
    document.addEventListener("DOMContentLoaded", () => {
      const profileImage = document.getElementById("profileImage");
      const displayName = document.getElementById("displayName");
      const userBio = document.getElementById("userBio");

      if (profileImage && displayName && userBio) {
        profileImage.src = user.profileImage;
        displayName.textContent = `${user.fname} ${user.lname}`;
        userBio.textContent = user.bio;
      }
    });
  }
}
function logout() {
  localStorage.removeItem("taskUser");
  window.location.href = "profile.html";
}
</script>
</html>